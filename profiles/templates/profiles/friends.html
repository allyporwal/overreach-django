{% extends "base.html" %}
{% load static %}

{% block content %}

<div class="container">
    <div class="row mt-4">
        <div class="col-12 col-md-4">
            <h2>Friends</h2>
        </div>
        {% if friends_profiles|length == 0 %}
            <div class="col-12 col-md-8">
                <h3>Follow some people to see a detailed feed of their workouts</h3>
            </div>           
        {% endif %}
        {% if friends_profiles|length != 0 %}
            {% if friends_workouts|length == 0 %}
            <div class="col-12 col-md-8">
                <h3>Your friends haven't logged any workouts yet</h3>
            </div>
            {% endif %}
        {% endif %}        
        {% for workout in friends_workouts %}
            <div class="col-12 col-md-8 offset-md-4 mb-3 mt-3 friends-workout-container">
                <div class="row">
                    <div class="col-12 col-md-8">
                        <h5 class="card-title">{{ workout.session_name }}</h5>
                    </div>
                    <div class="interactions-container col-3 text-center col-md-1">
                        <i class="fas fa-thumbs-up mb-3"></i>                        
                    </div>
                    <div class="interactions-container col-3 col-md-1 pl-1">
                        <small>14</small>
                    </div>
                    <div class="interactions-container col-3 text-center col-md-1 pt-0">
                        <i class="fas fa-comment-alt"></i>
                    </div>
                    <div class="interactions-container col-3 col-md-1 pl-1">
                        <small>5</small>
                    </div>
                </div>        
                        <p class="card-text"><small>Logged on: <a href="{% url 'workout' workout.id %}">{{ workout.created_at }}</a> by <a href="{% url 'profile' workout.created_by.id %}">{{ workout.created_by }}</a></small></p>                     
                            <div class="row text-center">
                            <div class="col-4"><small>Vol:</small></div>
                            <div class="col-4"><small>Reps:</small></div>
                            <div class="col-4"><small>RPE:</small></div>
                        </div>
                        <div class="row text-center">
                            <div class="col-4">{{ workout.session_volume|floatformat:"0" }}</div>
                            <div class="col-4">{{ workout.session_reps }}</div>
                            <div class="col-4">{{ workout.session_average_rpe }}</div>
                        </div>
                    <!-- </div>                                
                </div> -->
                <div class="collapse" id="collapse-{{ forloop.counter }}">
                    <div class="">
                        {% for exercise in workout.workout %}
                            <p>{{ exercise.exercise }} for {{ exercise.sets }} sets of {{ exercise.reps }}</p>
                        {% endfor %} 
                    </div>
                </div>      
                <button class="btn mt-3 btn-outline-primary btn-block" type="button" data-toggle="collapse" data-target="#collapse-{{ forloop.counter }}" aria-expanded="false" aria-controls="collapseExample">
                    View session
                </button>                 
            </div>
            <hr>
        {% endfor %}        
    </div>
</div>

{% endblock %}

{% block postloadjs %}
{% endblock %}